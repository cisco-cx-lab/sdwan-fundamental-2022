<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Day 1 Tasks - sdwan-fundamental-2022</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Day 1 Tasks";
    var mkdocs_page_input_path = "day1.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> sdwan-fundamental-2022</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Lab Guide</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Day 1 Tasks</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#31-day-1-tasks">3.1. Day 1 tasks</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../day2/">Day 2 Tasks</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../survey/">Survey</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">sdwan-fundamental-2022</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Lab Guide &raquo;</li>
        
      
    
    <li>Day 1 Tasks</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h2 id="3-lab-tasks">3. Lab Tasks</h2>
<h3 id="31-day-1-tasks"><strong>3.1. Day 1 tasks</strong></h3>
<p>In Day 1's lab, attendee will learn how to onboard virtual Edge router CSR1kv into the SDWAN fabric, and how to create device template using feature template for basic SDWAN features.</p>
<p>Similar to real world scenario, for SDWAN deployment, the first step is to install controllers. It is common to use Cisco hosted controller. The Cisco CloudOps team will take care of the controller design and installation. Attendee can reference the Cisco SD-WAN CloudOps document for detail information.
</p>
<a href="https://www.cisco.com/c/en/us/td/docs/routers/sdwan/knowledge-base/CloudOps/b-cisco-sdwan-cloudops.html">https://www.cisco.com/c/en/us/td/docs/routers/sdwan/knowledge-base/CloudOps/b-cisco-sdwan-cloudops.html</a>
</p>
Another controller deployment model is on-premise controller. Attendee can reference the SDWAN getting started guide for controller installation.
</p>
<a href="https://www.cisco.com/c/en/us/td/docs/routers/sdwan/configuration/sdwan-xe-gs-book/cisco-sd-wan-overlay-network-bringup.html">https://www.cisco.com/c/en/us/td/docs/routers/sdwan/configuration/sdwan-xe-gs-book/cisco-sd-wan-overlay-network-bringup.html</a>
</p>
In this lab, all SDWAN controllers including vManage, vSmart and vBond are pre-configured for each pod.</p>
<p>After controllers are up, the next step is to bring up the headend or datacenter. The headend or datacenter will function as transit site between SDWAN and non SDWAN site. In this lab, DC WAN Edges are pre-configured and onboarded to SDWAN fabric. Attendee needs to review the SDWAN basic template configuration and verify connectivity. To make the DC as transit site between SDWAN and non SDWAN, attendee needs to configure the WAN Edge router to establish OSPF neighbor with DC Router and redistribute the OSPF learned routes into OMP.</p>
<hr />
<ul>
<li>
<p>3.1.1. <strong>Verify DC connectivity</strong>
In this task, attendee will verify reachability from DC to remote site1 and site2.
Reference <strong>Device access</strong> table for login IP and credential. </P></p>
</li>
<li>
<p><strong>Step1</strong> SSH into <strong>DC1-WAN-Agg</strong> and verify it has BGP neighbor with the MPLS PE, and also learns other site prefixes over BGP.
Run <code>show ip bgp summary</code>
</br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_1_a.png" width="800"/>
</br></br></p>
</li>
</ul>
<p>Run <code>show ip route bgp</code>
</br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_1_b.png" width="800"/>
</br></br>
  - <strong>Step2</strong> Verify reachability to <strong>dc1-cedge1</strong> and <strong>dc1-cedge2</strong>
Run <code>ping 10.10.11.1</code> and <code>ping 10.10.12.1</code>
</br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_1_c.png" width="800"/>
</br></br>
  - <strong>Step3</strong> Verify reachability to <strong>Site1-VM1</strong> and <strong>site2-VM1</strong>
Run <code>ping 10.200.100.100</code>, <code>ping 10.30.100.100</code>
</br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_1_d.png" width="800"/>
</br></br></p>
<ul>
<li>3.1.2. <strong>vManage walk through</strong></li>
</ul>
<p>In this task, attendee will walk through the vManage GUI.</p>
<ul>
<li>
<p><strong>Step1</strong> Login vManage from <strong><a href="https://198.18.133.200:8443">https://198.18.133.200:8443</a></strong>
</p>
<strong>Note</strong> Please ignore the self sign cert warning and proceed.
Login to vManage using <strong>admin/pocadmin</strong> for username/password, then click <strong>Log In</strong>.
</br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_a.png" width="800"/>
</br></br></p>
</li>
<li>
<p><strong>Step2</strong> On the main dashboard, verify the <strong>SUMMARY</strong> panel for quick overview of the fabric inventory; verify <strong>Control Status</strong> for overview of control channels.
  </br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_b.png" width="800"/>
  </br></br></p>
</li>
<li>
<p><strong>Step3</strong> Navigate to the panel on the left and click <strong>Monitor - Network</strong> for detail information of each device in the fabric.
  </br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_c.png" width="800"/>
  </br></br></p>
</li>
<li>
<p><strong>Step4</strong> click device name <strong>dc1-cedge1</strong> to access the device specific information.
  This is main page to verify device information, statistics, and troubleshooting options. Explore the page and get familiar with navigation panel on the left such as supported troubleshooting capability, commands available from Real Time.</p>
</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_d.png" width="800"/>
  </br></br></p>
<ul>
<li><strong>Step5</strong> Navigate to the panel on the left and click <strong>Configuration - Certificates</strong> for the WAN Edge and Controllers certificate status.</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_e.png" width="800"/>
  </br></br></p>
<p>On the <strong>WAN Edge List</strong> certificate page, pay attention to the state of the certificate, chassis number as well as Serial No/Token. Attendee will use information on this page to onboard virtual WAN Edge in this lab.</p>
<p></br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_f.png" width="800"/>
</br></br></p>
<ul>
<li><strong>Step6</strong> Navigate to the panel on the left and click <strong>Tools - SSH Terminal</strong> for the build in device access tool.</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_2_g.png" width="800"/>
  </br></br></p>
<p>Feel free to explore other operations on vManage portal.</p>
<ul>
<li>
<p>3.1.3. <strong>Review DC Edge Device Templates</strong>
In this task, attendee will review the pre-configured device templates for <strong>dc1-cedge1</strong> and <strong>dc1-cedge2</strong>.</p>
</li>
<li>
<p><strong>Step1</strong> Navigate to the panel on the left and click <strong>Configuration - Templates</strong> for the device and feature template.</p>
</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_3_a.png" width="800"/>
  </br></br></p>
<ul>
<li>Attendee should see two prebuilt device templates as shown in the screenshot above.</li>
<li><strong>Step2</strong> Locate one of the device template and click the <strong>'...'</strong> on the right and select <strong>Edit</strong> to view the template configuration</li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_3_b.png" width="800"/>
 </br></br></p>
<ul>
<li>This will list all <strong>feature templates</strong> associated to the device template. You can click each feature template and select <strong>View Template</strong> to view the configuration of the feature template.</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_3_c.png" width="800"/>
  </br></br></p>
<p>A device template consists of few sections, each section has it own set of feature templates. The mandatory feature templates are marked as <strong>'*'</strong>.</p>
<ul>
<li>3.1.4. <strong>Add OSPF to DC Device Template</strong></li>
</ul>
<p>In this section, attendee will modify the pre-configured device template and add OSPF as routing protocol for service side VPN. After configuring OSPF, attendee will verify OSPF neighbor with dc-wan-agg router.</p>
<ul>
<li><strong>Step1</strong> Navigate to the panel on the left and click <strong>Configuration - Templates</strong>, then click <strong>Feature</strong> tab on the top to switch to the feature template configuration.</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_a.png" width="800"/>
  </br></br></p>
<ul>
<li><strong>Step2</strong> Click <strong>Add Template</strong>, find and select <strong>CSR 1000v</strong> under <strong>select Devices</strong></li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_b.png" width="800"/>
  </br></br></p>
<ul>
<li><strong>Step3</strong> Find and select <strong>Cisco OSPF</strong> template on the right</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_c.png" width="800"/>
  </br></br></p>
<ul>
<li>
<p><strong>Step4</strong> Create OSPF template with following name and description. Leave <strong>BASIC CONFIGURATION</strong> as the default.   </p>
<ul>
<li><strong>Template Name</strong>|<strong>CX-VPN1-OSPF-V01</strong>|</li>
<li><strong>Description</strong>|<strong>CX-VPN1-OSPF-V01</strong>|</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_d.png" width="800"/>
  </br></br></p>
</li>
<li>
<p>Click <strong>New Redistribute</strong> under REDISTRIBUTE section, select <strong>omp</strong> from protocol drop down list then click <strong>Add</strong>
<strong>Note</strong> In the lab, we will not add Route Policy, but in production deployment it's good practice to use route policy to tag routes being redistributed from OMP into OSPF</p>
</li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_e.png" width="800"/>
 </br></br></p>
<ul>
<li>Click <strong>New Area</strong> under AREA section, enter <strong>100</strong> in <strong>Area Number</strong>, click <strong>+ Add Interface</strong> to add interface that participants in OSPF process</li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_f.png" width="800"/>
 </br></br></p>
<ul>
<li>Click <strong>Add Interface</strong> from the popup window for Interface configuration</li>
<li>Click the drop down for <strong>Interface Name</strong>, move your mouse to <strong>Device Specific</strong>,  enter <strong>VPN1_OSPF_INT</strong> as variable for OSPF Interface Name</li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_g.png" width="800"/>
 </br></br></p>
<ul>
<li>Explore other OSPF configuration options but for lab leave other filed as default and click <strong>Add</strong> to add the interface variable for OSPF area 0.</li>
<li>Click <strong>Add</strong> to add OSPF Area config</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_h.png" width="800"/>
  </br></br></p>
<ul>
<li>Leave other field as default and click <strong>Save</strong> to finish configuring OSPF feature template</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_i.png" width="800"/>
  </br></br></p>
<ul>
<li><strong>Step5</strong> Click <strong>Device</strong> on the top to switch to device template. Locate one of the device template and click the <strong>'...'</strong> on the right and select <strong>Edit</strong> to add new OSPF template to pre-configured DC device template.</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_j.png" width="800"/>
  </br></br></p>
<ul>
<li><strong>Step6</strong> Move to <strong>Service VPN</strong> section, highlight the template of <strong>VPN_1</strong> click the <strong>...</strong> and select <strong>Edit</strong></li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_k.png" width="800"/>
 </br></br></p>
<ul>
<li><strong>Step7</strong> Select <strong>Cisco OSPF</strong> from the <strong>Additional Cisco VPN Templates</strong> panel on the right. Select <strong>CX-VPN1-OSPF-V01</strong> from the drop down list for Cisco OSPF template.</li>
</ul>
<p></br></br>
  <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_l.png" width="800"/>
  </br></br></p>
<ul>
<li>
<p><strong>Step8</strong> Click <strong>Save</strong> to return back to device template and click <strong>Update</strong> to update the device template.</p>
<p></br></br>
<img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_m.png" width="800"/>
</br></br></p>
</li>
</ul>
<p><strong>Note</strong> Changing device template will trigger configuration update for device attached to the device template. In production network, it is common practice to replicate the existing device template, modify on the new device template then associate device to the new device template.</p>
<ul>
<li><strong>Step9</strong> Click the <strong>...</strong> to update device configuration. Enter <strong>GigabitEthernet3</strong> in the field for new variable you just created in OSPF teamplte.</li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_n.png" width="800"/>
 </br></br></p>
<ul>
<li>
<p><strong>Step10</strong> Click <strong>Update</strong> to save the change, and click <strong>Next</strong> to the configuration preview</p>
</li>
<li>
<p><strong>Step11</strong> click the device name on the left panel, then click <strong>Config Diff</strong> to do a configuration <strong>Side by Side</strong> comparison</p>
</li>
</ul>
<p></br></br>
 <img src="https://leitian123.github.io/sdwan-fundamental-2022/img/3_1_4_o.png" width="800"/>
 </br></br></p>
<ul>
<li>
<p><strong>Step12</strong> After reviewing the new configuration change, click <strong>Configure Devices</strong> to push the configuration.</p>
</li>
<li>
<p><strong>Step13</strong> Wait for the configuration push is successfully finished. <strong>Repeat the same above steps to add OSPF on the other pre-configured DC device template.</strong></p>
</li>
<li>
<p><strong>Step14</strong></p>
</li>
</ul>
<p><strong>Note</strong> :Name your Feature template and Device template starting with <strong>"CX"</strong></p>
<ul>
<li>3.1.4. <strong>Verify network prefixes in fabric</strong></li>
</ul>
<p><strong>Note</strong>: Before push config, run <strong>side by side diff</strong> to compare</p>
<ul>
<li>
<p>3.1.5. <strong>Onboard WAN Edge in Site3</strong><br><br></p>
</li>
<li>
<p>3.1.6. <strong>Develop device template for Site3 CE1 and CE2</strong><br><br></p>
</li>
<li>
<p>3.1.7. <strong>Verify reachability from Site3 to other sites</strong><br><br></p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../day2/" class="btn btn-neutral float-right" title="Day 2 Tasks">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../intro/" class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../intro/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../day2/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
